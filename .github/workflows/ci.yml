name: CI

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
        
    - name: Check file structure
      run: |
        echo "Checking project structure..."
        ls -la
        test -f index.html || exit 1
        test -f script.js || exit 1
        test -f styles.css || exit 1
        test -d images || exit 1
        echo "All required files present ✓"
        
    - name: Validate HTML syntax
      run: |
        if command -v tidy &> /dev/null; then
          tidy -q -e index.html
        else
          echo "HTML validation skipped (tidy not available)"
        fi
        
    - name: Check JavaScript syntax
      run: |
        echo "Checking JavaScript syntax..."
        if node -c script.js 2>/dev/null; then
          echo "JavaScript syntax valid ✓"
        else
          echo "JavaScript syntax check skipped (node not available)"
        fi
